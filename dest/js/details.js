"use strict";function sendAjax(i,n,s){return new Promise(function(a,t){$.ajax({url:n,type:i,data:s,dataType:"json",success:function(t){a(t)}})})}$(function(){var t=window.location.search.slice(1).split("&"),c={};t.forEach(function(t){var a=t.split("=");c[a[0]]=a[1]}),sendAjax("get","../json/indexData.json").then(function(t){var a=t[c.id-1];$(".currentImgBox .nowCurrentImg img").attr("src",a.imgData[0]),$(".currentImgBox .bigImgBox").css("background-image","url('".concat(a.imgData[0],"')"));var i=a.imgData.slice(0,5).map(function(t){return' <div class="min-imgBox">\n                        <img src="'.concat(t,'" alt="" data-bigImg="">\n                    </div>')}).join("");$(".readyImgBox").html(i),$(".readyImgBox .min-imgBox").eq(0).addClass("minImgBox-active"),$(".readyImgBox").on("click",".min-imgBox",function(){var t=$(this).find("img").attr("src");$(this).addClass("minImgBox-active").siblings().removeClass("minImgBox-active"),$(".currentImgBox .nowCurrentImg img").attr("src",t),$(".currentImgBox .bigImgBox").css("background-image","url('".concat(t,"')"))});var n=a.imgData.map(function(t){return'  <div class="imgBox"> <img src="'.concat(t,'" alt=""></div>')}).join("");$("#showImgBox").html(n),$(".jp-name").text(a.indexData.name),$(".china-name").text(a.indexData.chinaName),$(".price .context").text(a.indexData.price);var s=a.indexData.attribute.map(function(t){return' <div class="labelBox">'.concat(t,"</div>")}).join("");$(".shop-label").html(s);var e=a.detailsData.map(function(n){if("[object Array]"!=Object.prototype.toString.call(n.text))return'<li>\n                                     <div class="infos">'.concat(n.title,':</div>\n                                    <div class="context">').concat(n.text,"</div>\n                                 </li>");var t=n.text.map(function(t,a){var i="";return a<n.text.length-1&&(i=" <span>„ÄÅ</span>"),' <a href="">'.concat(t,"</a>\n                                        ").concat(i,"\n                                     ")}).join("");return' <li>\n                                    <div class="infos">'.concat(n.title,':</div>\n                                    <div class="context">\n                                     ').concat(t,"\n                                    </div>\n                                </li>")}).join("");$(".details-text ul").html(e)});var u=$(".currentImgBox .maskBox"),n=$(".currentImgBox"),x=$(".currentImgBox .bigImgBox");n.mouseenter(function(){u.css({display:"block"}),x.css({display:"block"});var e=u.width(),c=u.height(),t=window.getComputedStyle(x[0])["background-size"].split(" "),o=parseInt(t[0]),r=parseInt(t[1]),l=n.width(),d=n.height(),a=e*o/l,i=c*r/d;x.css({width:a,height:i});var m=n.offset().left,g=n.offset().top;$(this).mousemove(function(t){var a=t.pageX-m-e/2,i=t.pageY-g-c/2;a<=0&&(a=0),i<=0&&(i=0),l-e<=a&&(a=l-e),d-c<=i&&(i=d-c),u.css({left:a,top:i});var n=o*a/l,s=r*i/d;x.css({backgroundPosition:"-".concat(n,"px -").concat(s,"px")})})}),n.mouseleave(function(){u.css({display:"none"}),x.css({display:"none"})});var a=$(".shop-num .context input"),i=1;$(".shop-num .reduce").click(function(){i--,a.val(i)}),a.change(function(){i=$(this).val()}),$(".shop-num .add").click(function(){i++,a.val(i)}),$(".details-title .details-img").click(function(){$(this).addClass("details-active").siblings().removeClass("details-active "),$("#showImgBox").css({display:"block"}),$(".details-text").css({display:"none"})}),$(".details-title .details-data").click(function(){$(this).addClass("details-active").siblings().removeClass("details-active "),$("#showImgBox").css({display:"none"}),$(".details-text").css({display:"block"})})});